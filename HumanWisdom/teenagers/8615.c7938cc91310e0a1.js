"use strict";(self.webpackChunkteenagers=self.webpackChunkteenagers||[]).push([[8615],{8615:(S,p,i)=>{i.d(p,{O:()=>H});var e=i(5062),d=i(6830),n=i(3452),_=i(7319),v=i(4937),f=i(4565),b=i(2190),g=i(6895),l=i(4719),C=i(8146);function T(s,r){if(1&s){const t=e.EpF();e.TgZ(0,"a",36),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.goToToc())}),e._UZ(1,"img",37),e.qZA()}}function x(s,r){if(1&s){const t=e.EpF();e.TgZ(0,"a",38),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.toggleBookmark())}),e._UZ(1,"img",39),e.qZA()}}function k(s,r){if(1&s){const t=e.EpF();e.TgZ(0,"a",38),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.toggleBookmark())}),e._UZ(1,"img",40),e.qZA()}}const Z=function(s){return{visibility:s}},w=function(s,r,t){return{"min-width":s,"max-width":r,width:t,transition:"width 0.5s, max-width 0.5s, min-width 0.5s"}};function I(s,r){if(1&s){const t=e.EpF();e.TgZ(0,"div",3)(1,"div",20)(2,"div",5)(3,"div",21)(4,"a",22),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.goToDash())}),e._UZ(5,"img",23),e.qZA()(),e.TgZ(6,"div",24),e.YNc(7,T,2,0,"a",25),e.qZA()(),e.TgZ(8,"div",26)(9,"div",24)(10,"a",27),e._UZ(11,"img",28),e.qZA()(),e.TgZ(12,"div",29),e.YNc(13,x,2,0,"a",30),e.YNc(14,k,2,0,"a",30),e.qZA(),e.TgZ(15,"div",24)(16,"a",31),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.share())}),e._UZ(17,"img",32),e.qZA()()(),e.TgZ(18,"div",33)(19,"div",34),e._UZ(20,"div",35),e.qZA()()()()}if(2&s){const t=e.oxw();e.xp6(1),e.Q6J("ngClass",t.bg_tn),e.xp6(6),e.Q6J("ngIf",t.toc),e.xp6(6),e.Q6J("ngIf",!t.bookmark),e.xp6(1),e.Q6J("ngIf",t.bookmark),e.xp6(5),e.Q6J("ngStyle",e.VKq(6,Z,t.showheaderbar?"visible":"hidden")),e.xp6(1),e.Q6J("ngStyle",e.kEZ(8,w,t.progress+"%",t.progress+"%",t.progress+"%"))}}function A(s,r){if(1&s){const t=e.EpF();e.TgZ(0,"a",22),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.goToToc())}),e._UZ(1,"img",37),e.qZA()}}function N(s,r){if(1&s){const t=e.EpF();e.TgZ(0,"a",38),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.toggleBookmark())}),e._UZ(1,"img",39),e.qZA()}}function E(s,r){if(1&s){const t=e.EpF();e.TgZ(0,"div",3)(1,"div",20)(2,"div",5)(3,"div",41)(4,"a",22),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.goToDash())}),e._UZ(5,"img",23),e.qZA()(),e.TgZ(6,"div",41),e.YNc(7,A,2,0,"a",42),e.qZA()(),e.TgZ(8,"div",5)(9,"div",6)(10,"a",27),e._UZ(11,"img",28),e.qZA()(),e.TgZ(12,"div",43),e.YNc(13,N,2,0,"a",30),e.qZA(),e.TgZ(14,"div",43)(15,"a",31),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.share())}),e._UZ(16,"img",32),e.qZA()()(),e.TgZ(17,"div",33)(18,"div",44),e._UZ(19,"div",45),e.qZA()()()()}if(2&s){const t=e.oxw();e.xp6(1),e.Q6J("ngClass",t.bg_tn),e.xp6(6),e.Q6J("ngIf",t.toc),e.xp6(6),e.Q6J("ngIf",!t.bookmark)}}function U(s,r){if(1&s){const t=e.EpF();e.TgZ(0,"app-modal",46),e.NdJ("closeEvent",function(a){e.CHM(t);const c=e.oxw();return e.KtG(c.getAlertcloseEvent(a))}),e.qZA()}2&s&&e.Q6J("okText","Ok")("enableCancel",!0)("content","Please subscribe to activate this feature")}let H=(()=>{class s{constructor(t,o,a,c,m){this.router=t,this.service=o,this.ac=a,this.platform=c,this.ngNavigatorShareService=m,this.t=new Date,this.minDate=this.t.getFullYear()+"-"+this.addZero(this.t.getMonth()+1)+"-"+this.addZero(this.t.getDate()),this.saveUsername=JSON.parse(localStorage.getItem("saveUsername")),this.sendBookmark=new e.vpe,this.socialShare=!1,this.token=JSON.parse(localStorage.getItem("token")),this.shared=!1,this.showheaderbar=!0,this.address=this.router.url,this.progress=localStorage.getItem("progressbarvalue")?parseFloat(localStorage.getItem("progressbarvalue")):0,this.pageaction=localStorage.getItem("pageaction"),this.isLoggedIn=!1,this.placeHolder="Type your note here...",this.guest=!1,this.Subscriber=!1,this.enableAlert=!1,this.router.getCurrentNavigation()&&(this.urlT=this.router.getCurrentNavigation().extractedUrl?this.router.getCurrentNavigation().extractedUrl.queryParams.t:""),this.programName=this.getProgramTypeName(n.F.ProgramId)?.toLowerCase(),"teenagers"==this.programName&&(this.programName=""),this.ngNavigatorShareService=m;let h=localStorage.getItem("Subscriber"),u=localStorage.getItem("isloggedin");u&&"T"===u&&h&&"1"===h&&(this.isLoggedIn=!0),this.guest="T"===localStorage.getItem("guest"),this.Subscriber="1"===localStorage.getItem("Subscriber")}ngOnInit(){(this.guest||!this.Subscriber)&&(this.placeHolder="Please subscribe to access your online journal"),this.progUrl=this.router.url.substring(0,this.router.url.indexOf("/",1)+1),this.showheaderbar=!0;var t=this.path.lastIndexOf("/");this.scrNumber=this.path.substring(t+2),this.getProgress(this.scrNumber),this.shared=!1,this.userId=0==this.saveUsername?JSON.parse(sessionStorage.getItem("userId")):JSON.parse(localStorage.getItem("userId")),this.urlT&&(this.shared=!0,this.socialShare=!0)}toggleBookmark(){this.guest||!this.Subscriber?this.enableAlert=!0:(this.bookmark=!this.bookmark,this.sendBookmark.emit(this.bookmark))}addZero(t){return t<10&&(t="0"+t),t}addToken(){this.socialShare=!0,this.path=this.urlT?n.F.AdultsBaseUrl+this.address+`?t=${this.urlT}`:n.F.AdultsBaseUrl+this.address+`?t=${this.token}`}courseNote(){this.router.navigate(["/"+this.programName+"/coursenote",{path:this.path}])}goToToc(){this.router.navigate(["/"+this.programName+"/"+this.toc])}goToDash(){"/adults/"==this.progUrl?this.router.navigate(["/adults/adult-dashboard"]):(console.log(this.programName+"/teenager-dashboard"),this.router.navigate([this.programName+"/teenager-dashboard"]))}addNote(){this.service.submitJournal({JournalId:0,JDate:this.minDate,Title:"Module Note",Notes:this.note,UserId:this.userId}).subscribe(t=>{},t=>{console.log(t)},()=>{})}share(){this.shareUrl(n.F.ProgramId),this.ngNavigatorShareService.share({title:"HumanWisdom Program",text:"Hey, check out the HumanWisdom Program",url:this.path}).then(t=>{console.log(t)}).catch(t=>{console.log(t)})}getProgress(t){this.service.screenProgress(t).subscribe(o=>{this.progress=parseFloat(o),localStorage.setItem("progressbarvalue",this.progress.toString()),setTimeout(()=>{this.showheaderbar=!0},100)})}getProgramTypeName(t){return Object.keys(d.v).find(a=>d.v[a]===t)}shareUrl(t){switch(t){case d.v.Adults:this.path=this.urlT?n.F.AdultsBaseUrl+this.address+`?t=${this.urlT}`:n.F.AdultsBaseUrl+this.address+`?t=${this.token}`;break;case d.v.Teenagers:this.path=n.F.TeenagerBaseUrl+this.address+`?t=${this.token}`;break;default:this.path=this.urlT?n.F.AdultsBaseUrl+this.address+`?t=${this.urlT}`:n.F.AdultsBaseUrl+this.address+`?t=${this.token}`}}getAlertcloseEvent(t){this.enableAlert=!1,"ok"===t&&(this.guest||this.Subscriber?this.guest&&(localStorage.setItem("subscribepage","T"),this.router.navigate(["/onboarding/login"])):this.router.navigate(["/onboarding/add-to-cart"]))}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(_.F0),e.Y36(v.$),e.Y36(_.gz),e.Y36(f.t4),e.Y36(b.Q))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-course-header"]],inputs:{bookmark:"bookmark",bg:"bg",bg_tn:"bg_tn",path:"path",toc:"toc",dashboard:"dashboard"},outputs:{sendBookmark:"sendBookmark"},decls:30,vars:7,consts:[["class","row center_flex",4,"ngIf"],["id","exampleModalCenter","tabindex","-1","role","dialog","aria-labelledby","exampleModalCenterTitle","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog","modal-dialog-centered","modal_note_journal","w100p","mt0px"],[1,"row","center_flex"],[1,"col-lg-4","col-md-6","col-sm-6","col-xs-12","tn_module","bg_border_box"],[1,"col-lg-6","col-md-6","col-sm-6","col-xs-6","p0","flex_ai"],[1,"col-lg-2","col-md-2","col-sm-2","col-xs-2","p0","tright","col-lg-offset-6","col-md-offset-6","col-sm-offset-6","col-xs-offset-6"],["data-toggle","modal","data-dismiss","modal"],["src","https://humanwisdoms3.s3.eu-west-2.amazonaws.com/assets/svgs/icons/edit_fill.svg","alt","",1,"img-responsive"],[1,"row","center_flex","h100vh"],[1,"col-lg-4","col-md-6","col-sm-6","col-xs-12","p0"],[1,"modal-body"],[1,"row","pt20px","pb30px"],[1,"col-md-12","col-sm-12","col-xs-12","p0"],["id","message","required","required","name","message","rows","12",1,"form-control","txt19","p30_20px",3,"disabled","placeholder","ngModel","ngModelChange"],[1,"row","center_flex","flex_wrap"],[1,"col-md-12","col-sm-12","col-xs-12","tcenter"],["type","button","data-dismiss","modal",1,"btn","btn-success","mb0","btn_add_note_journal",3,"disabled","click"],["data-dismiss","modal",1,"mb0","w100","btn_skip","txt5","fs16px","tcenter"],[3,"okText","enableCancel","content","closeEvent",4,"ngIf"],[1,"col-lg-4","col-md-6","col-sm-6","col-xs-12","tn_module",3,"ngClass"],[1,"p0","mr20px"],["href","javascript:;",1,"",3,"click"],["src","https://humanwisdoms3.s3.eu-west-2.amazonaws.com/assets/svgs/icons/dashboard.svg","alt","HumanWisdom",1,"img-responsive"],[1,"p0"],["class","tcenter","href","javascript:;",3,"click",4,"ngIf"],[1,"col-lg-6","col-md-6","col-sm-6","col-xs-6","p0","flex_ai","jc_flexend"],["data-toggle","modal","data-target","#exampleModalCenter"],["src","https://humanwisdoms3.s3.eu-west-2.amazonaws.com/assets/svgs/icons/edit.svg","alt","",1,"img-responsive"],[1,"p0","mlr20px"],["href","javascript:;",3,"click",4,"ngIf"],["href","javascript:;","id","btnShare",3,"click"],["src","https://humanwisdoms3.s3.eu-west-2.amazonaws.com/assets/svgs/icons/share_opaque.svg","alt","",1,"img-responsive"],[1,"col-md-12","col-sm-12","col-xs-12","p0","hprogressdiv"],[1,"progress","progress-sm","hprogress",3,"ngStyle"],["role","progressbar","aria-valuemax","100",1,"progress-bar",3,"ngStyle"],["href","javascript:;",1,"tcenter",3,"click"],["src","https://humanwisdoms3.s3.eu-west-2.amazonaws.com/assets/svgs/icons/toc.svg","alt","HumanWisdom",1,"img-responsive"],["href","javascript:;",3,"click"],["src","https://humanwisdoms3.s3.eu-west-2.amazonaws.com/assets/svgs/icons/bookmark_course_01.svg","alt","",1,"img-responsive"],["src","https://humanwisdoms3.s3.eu-west-2.amazonaws.com/assets/svgs/icons/bookmark_course_active.svg","alt","",1,"img-responsive"],[1,"col-lg-2","col-md-2","col-sm-2","col-xs-2","p0"],["class","","href","javascript:;",3,"click",4,"ngIf"],[1,"col-lg-2","col-md-2","col-sm-2","col-xs-2","p0","tright"],[1,"progress","progress-sm","hprogress"],["role","progressbar","aria-valuenow","25","aria-valuemin","0","aria-valuemax","100",1,"progress-bar",2,"width","25%"],[3,"okText","enableCancel","content","closeEvent"]],template:function(t,o){1&t&&(e.YNc(0,I,21,12,"div",0),e.YNc(1,E,20,3,"div",0),e.TgZ(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4),e._UZ(6,"div",5),e.TgZ(7,"div",5)(8,"div",6)(9,"a",7),e._UZ(10,"img",8),e.qZA()()()()(),e.TgZ(11,"div",9)(12,"div",10)(13,"div",11)(14,"form")(15,"div",12)(16,"div",13)(17,"textarea",14),e.NdJ("ngModelChange",function(c){return o.note=c}),e.qZA()()(),e.TgZ(18,"div",15)(19,"div",16)(20,"a")(21,"button",17),e.NdJ("click",function(){return o.addNote()}),e._uU(22,"Add Note to Journal"),e.qZA()()()(),e._UZ(23,"br"),e.TgZ(24,"div",15)(25,"div",16)(26,"a")(27,"h4",18),e._uU(28,"Skip"),e.qZA()()()()()()()()()(),e.YNc(29,U,1,3,"app-modal",19)),2&t&&(e.Q6J("ngIf",!o.shared),e.xp6(1),e.Q6J("ngIf",o.shared),e.xp6(16),e.Q6J("disabled",o.guest||!o.Subscriber)("placeholder",o.placeHolder)("ngModel",o.note),e.xp6(4),e.Q6J("disabled",o.guest||!o.Subscriber),e.xp6(8),e.Q6J("ngIf",o.enableAlert))},dependencies:[g.mk,g.O5,g.PC,l._Y,l.Fj,l.JJ,l.JL,l.Q7,l.On,l.F,C.z]}),s})()}}]);