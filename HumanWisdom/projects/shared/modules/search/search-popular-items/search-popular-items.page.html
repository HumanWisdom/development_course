<!-- top navigation -->
<app-feature-header title="Search"></app-feature-header>
<!-- /top navigation -->

<app-bg-video></app-bg-video>

<!-- page content -->
<div class="right_col mc_01">
  <!-- Class -->
  <div class="cw100p">
    <div class="row center_flex">
      <div class="col-lg-4 col-md-6 col-sm-6 col-xs-12 sc_01 bg_292d56 col_cw" [ngClass]="isAdults ? 'bg_292d56' : 'bg_stake'">
        <div class="x_panel p0">
          <div class="x_content p0">

            <!-- search -->
            <!-- <div class="row prelative">
              <div class="col-md-12 col-sm-12 col-xs-12 form-group has-feedback zi0 p0 mb0px">
                <input type="search" class="form-control has-feedback-left pfy_search hide_search searchtxt"  placeholder="Search for a topic" id="searchtxt_02" [(ngModel)]="this.searchedTitle" (ngModelChange)="searchTitle()">
                <span class="fa fa-search form-control-feedback left pfy_search_icon" aria-hidden="true"></span>
              </div>

              <div class="col-md-12 col-sm-12 col-xs-12 p0">
              </div>
            </div> -->

            <!-- <div class="row mt30px mb30px prelative">
              <div class="col-md-12 col-sm-12 col-xs-12 form-group has-feedback zi0 p0 mb0px">
                <input type="search" class="form-control has-feedback-left pfy_search hide_search" name="search-list" [(ngModel)]="searchinp" (keyup)="getAutoCompleteList($event.target.value)" autocomplete="off" (focus)="onFocus()" (focusout)="onFocusOutEvent ()" (keyup.enter)="getinp($event.target.value)" [ngStyle]="{'border-radius':searchResult.length>0?'20px 20px 0 0':'100px'}" placeholder="Search for a topic">
                <span class="fa fa-search form-control-feedback left pfy_search_icon" aria-hidden="true"></span>
                <span *ngIf=" searchinp!=''" (click)="clearSearch()" class="fa fa-search form-control-feedback ad_sclose_icon ad_sclose_icon_ext" aria-hidden="true"></span>
              </div>

              <div class="row adsearch">
                <div class="col-md-12 col-sm-12 col-xs-12 tsp">
                  <ul class="list-group autocomplete-list adsearch_ul" *ngIf="searchResult.length>0">
                    <li *ngFor="let item of searchResult" (click)="searchEvent(item.ModuleName)" name="list"
                      class="is-search list-group-item">{{item.ModuleName}}</li>
                  </ul>
                </div>
              </div>
            </div> -->
            <!-- /search -->

            <div class="row mt20px">
              <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 p0">
                <h4 class="mtb0px fs_12px fw_400 lh_150p fc_ffffff">
                  {{getTotalRecords()}} results found
                </h4>
              </div>
            </div>

            <div class="row tab_lfj center_flex">
              <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 p0">
                <ul class="nav nav-tabs search_nav_tabs mtb30px">
                  <li class="active">
                    <a data-toggle="tab" (click)="pageChangeEvent('Learning')" class="fs_12px fw_500 lh_150p fc_ffffff">
                      Learning ({{getLearningRecords()}})
                    </a>
                  </li>
                  <li>
                    <a data-toggle="tab" (click)="pageChangeEvent('Forum')" class="fs_12px fw_500 lh_150p fc_ffffff">
                      Forum ({{getForumSearchRecords()}})
                    </a>
                  </li>
                  <li>
                    <a data-toggle="tab" (click)="pageChangeEvent('Journal')" class="fs_12px fw_500 lh_150p fc_ffffff">
                      Journal ({{journalSearchRecords()}})
                    </a>
                  </li>
                </ul>

                <div class="tab-content">

                  <!-- learning -->
                  <div id="tab1" *ngIf="tabName=='Learning'" class="tab-pane fade in active">

                    <!-- modules -->
                    <div class="toc_adiv">
                      <!-- video row -->
                      <a (click)="routemodule(item)" *ngFor="let item of searchData.ModuleRes">
                        <div class="row">
                          <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 p0 center_flex">
                            <div class="col-md-5 col-sm-5 col-xs-5 p0 prelative">
                              <img src="https://d1tenzemoxuh75.cloudfront.net/assets/images/background/resume/0{{item.ModuleId}}.png" alt="" class="p0 session_img" *ngIf="item.ModuleId<10">
                              <img src="https://d1tenzemoxuh75.cloudfront.net/assets/images/background/resume/{{item.ModuleId}}.png" alt="" class="p0 session_img" *ngIf="item.ModuleId>10">
                            </div>
                
                            <div class="col-md-7 col-sm-7 col-xs-7 p0 pl20pxi">
                              <h4 class="mt0px mb5px fs_15px fw_400 lh_150p fc_e58d82">
                                {{item.SectionName}}
                              </h4>
                              <h4 class="mtb0px fs_18px fw_600 lh_150p fc_ffffff">
                                {{item.ModuleName}}
                              </h4>
                            </div>
                          </div>
                        </div>
                      </a>
                      <!-- /video row -->
                    </div>
                    <!-- /modules -->

                    <div class="row mt30px mb15px">
                      <div class="col-md-12 col-sm-12 col-xs-12 p0">
                        <h4 class="mtb0px fs_12px fw_400 lh_140p fc_ffffff tt_uppercase">
                          CONTENTS
                        </h4>
                      </div>
                    </div>

                    <!-- sessions -->
                    <div class="toc_adiv">
                      <a [routerLink]="item.ModuleUrl" *ngFor="let item of searchData.SessionRes;let i=index">
                        <div class="row">
                          <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 p0 center_flex">
                            
                            <div class="col-lg-11 col-md-11 col-sm-11 col-xs-11 p0">
                              <h4 class="mt0px mb5px fs_12px fw_400 lh_130p fc_ffffff">
                                {{item.ModuleName}}
                              </h4>
                              <h4 class="mt0px mb5px fs_15px fw_500 lh_130p fc_e58d82 ellipsis_01">
                                #{{i+1}} {{item.SessionName}}
                              </h4>
                            </div>
                
                            <div class="col-lg-1 col-md-1 col-sm-1 col-xs-1 p0 tright">
                              <i class="fa fa-angle-right fc_ffffff fs_20px"></i>
                            </div>
                
                          </div>
                        </div>
                      </a>
                    </div>
                    <!-- /sessions -->

                    <!-- wisdom stories -->
                    <div class="row mt30px mb15px">
                      <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 p0">
                        <h4 class="mtb0px fs_15px fw_600 lh_150p fc_ffffff">
                          Life Stories
                        </h4>

                        <h4 class="mt5px mb0px fs_12px fw_400 lh_150p fc_ffffff_0_5" *ngIf="searchData.WisdomStoriesRes.length==0">
                          No Record Found
                        </h4>
                      </div>
                    </div>

                    <div class="row">
                      <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 p0 msrow" *ngIf="searchData.WisdomStoriesRes.length>0">
                        <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6" *ngFor="let item of searchData.WisdomStoriesRes">
                          <a href="https://humanwisdom.me/wisdom-stories/view-stories?sId={{item.ScenarioID}}">
                            <div class="row box_v3_04a">
                              <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 p0">
                  
                                <div class="row">
                                  <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 p0">
                                    <img [src]="item.ImgUrl" class="img-responsive">
                                  </div>
                                </div>  
                  
                                <div class="row">
                                  <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 p0">
                                    <h4 class="mt10px mb10px fw_500 fs_12px lh_130p fc_ffffff">
                                      {{item.Title}}
                                    </h4>
                                  </div>
                                </div>  
                  
                              </div>
                            </div>
                          </a>
                        </div>
                      </div>
                    </div>
                    <!-- /wisdom stories -->

                    <!-- short videos -->
                    <div class="row mt30px mb15px">
                      <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 p0">
                        <h4 class="mtb0px fs_15px fw_600 lh_150p fc_ffffff">
                          Short videos
                        </h4>

                        <h4 class="mt5px mb0px fs_12px fw_400 lh_150p fc_ffffff_0_5" *ngIf="searchData.WisdomShortsRes.length==0">
                          No Record Found
                        </h4>
                      </div>
                    </div>

                    <div class="toc_adiv_01" *ngIf="searchData && searchData.WisdomShortsRes.length>0">
                      <!-- video row -->
                      <a routerLink="{{item.VideoUrl}}" *ngFor="let item of searchData.WisdomShortsRes">
                        <div class="row">
                          <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 p0 center_flex">
                            <div class="col-lg-11 col-md-11 col-sm-11 col-xs-11 p0 center_flex">
                              <div class="col-md-5 col-sm-5 col-xs-5 p0 prelative">
                                <img src="{{item.ImgUrl}}" alt="" class="p0 session_img">
                                <img src="https://humanwisdoms3.s3.eu-west-2.amazonaws.com/assets/svgs/v1_3/play_border_0.svg" alt="" class="p0 session_img_play">
                              </div>
                  
                              <div class="col-md-8 col-sm-8 col-xs-8 p0 pl20pxi">
                                <h4 class="mt0px mb5px fs_15px fw_500 lh_130p fc_e58d82 ellipsis">
                                  {{item.Title}}
                                </h4>
                                <h4 class="mtb0px fs_12px fw_400 lh_130p fc_ffffff_0_5">
                                  {{item['timing']}} min
                                </h4>
                              </div>
                              
                            </div>
                  
                            <div class="col-lg-1 col-md-1 col-sm-1 col-xs-1 p0 tright">
                              <i class="fa fa-angle-right fc_ffffff fs_20px"></i>
                            </div>
                          </div>
                        </div>
                      </a>
                      <!-- /video row -->
                    </div>
                    <!-- /short videos -->

                    <!-- podcasts -->
                    <div class="row mt30px mb15px">
                      <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 p0">
                        <h4 class="mtb0px fs_15px fw_600 lh_150p fc_ffffff">
                          Podcast
                        </h4>

                        <h4 class="mt5px mb0px fs_12px fw_400 lh_150p fc_ffffff_0_5" *ngIf="searchData.PodCastRes.length==0">
                          No Record Found
                        </h4>
                      </div>
                    </div>
                    
                    <ng-container *ngIf="searchData.PodCastRes.length>0">
                        <app-podcast-toc [isdefaultShow]="true"  [podcastList]="searchData.PodCastRes" ></app-podcast-toc>
                    </ng-container>
                    <!-- /podcasts -->

                    <!-- /blogs -->
                    <div class="row mt30px mb15px">
                      <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 p0">
                        <h4 class="mtb0px fs_15px fw_600 lh_150p fc_ffffff">
                          Blog
                        </h4>

                        <h4 class="mt5px mb0px fs_12px fw_400 lh_150p fc_ffffff_0_5" *ngIf="searchData.BlogRes.length==0">
                          No Record Found
                        </h4>
                      </div>
                    </div>

                    <div class="div_blogs" *ngIf="searchData && searchData.BlogRes.length>0">
                      <!-- article 01 
                      <a *ngFor="let item of searchData.BlogRes" (click)="viewblog(item)">-->
                        <a *ngFor="let item of searchData.BlogRes" href="{{item['url']}}" >
                        <div class="row blog_bg">
                          <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 p0">
        
                            <div class="row">
                              <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 p0">
                                <img src="{{item['img']}}" alt="" class="img-responsive img_blog">
                              </div>
                            </div>
            
                            <div class="row mt15px">
                              <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 p0">
                                <h4 class="mtb0px fs_18px fw_600 lh_150p fc_ffffff">
                                  {{item['Title']}}
                                </h4>
                              </div>
                            </div>
            
                            <div class="row mt10px mb15px">
                              <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 p0">
                                <h4 class="mtb0px fs_12px fw_400 lh_150p fc_ffffff limit_characters">
                                  <span>{{stripTags(item['Story'])}}</span>
                                </h4>
                              </div>
                            </div>
            
                            <div class="row">
                              <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 p0">
                                <h4 class="mtb0px fs_12px fw_400 lh_150p fc_ffffff_0_5">
                                  {{timeSince(item['CreatedDate'])}}
                                </h4>
                              </div>
                            </div>
        
                          </div>
                        </div>
                      </a>
                      <!-- /article 01 -->
        
                      <div class="pagebreak"></div>
                    </div>
                    <!-- /blogs -->

                    <div class="pagebreak"></div>

                  </div>
                  <!-- /learning -->

                  <!-- forum -->
                  <div id="tab2" *ngIf="tabName=='Forum'" class="tab-pane fade in active">
                     <app-forum-landing [defaultShow]="false" [search]="search"></app-forum-landing>
                  </div>
                  <!-- /forum -->

                  <!-- journal -->
                  <div id="tab3" *ngIf="tabName=='Journal'"  class="tab-pane fade in active">
                    <app-index [defaultShow]="false"  [search]="search" ></app-index>
                  </div>
                  <!-- /journal -->

                </div>

              </div>
            </div>

          </div>
        </div>
      </div>
    </div>
  </div>
  <!--/Class -->
</div>
<!-- /page content -->



<!-- footer  -->
<app-bottom-navigation></app-bottom-navigation>
<!-- /footer -->